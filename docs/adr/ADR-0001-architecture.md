# ADR-0001: Стиль саг — Orchestration

Дата: 2025-08-31

## Контекст
Нужно демонстрировать распределенные транзакции в e-commerce ядре (заказы, оплаты, склад). Важно управлять сложными компенсациями и иметь наблюдаемость.

## Решение
Выбран стиль orchestration с выделенным сервисом `orchestrator`:
- Явная координация шагов саги, централизованный порядок действий и компенсаций.
- Упрощенная трассировка и аудит (одна точка координации).
- Возможность позже добавить хореографию для отдельных простых сценариев.

Паттерны: outbox/inbox, транзакционные сообщения, дедлеттеры, идемпотентность, поддержка реплеев.

## Последствия
+ Централизованный контроль, проще поддержка и изменение бизнес‑процессов.
+ Проще обеспечить idempotency и consistency границы.
− Точка концентрации логики (повышенные требования к надежности `orchestrator`).

## Альтернативы
- Choreography: меньше связности, но сложнее анализ потока и компенсаций при усложнении домена.
